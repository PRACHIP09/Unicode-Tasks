<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>BREAKING BAD API</title>
    <link rel="stylesheet" href="brbd.css">
</head>
<body>
    <div class="container">
    <span><h2>BREAKING BAD</h2></span>
        <img src="heisenberg.png">
    <table class="table table-sort" cellPadding = '0' cellSpacing ='0'>
        <thead>
            <tr>
                <th>Name</th>
                <th>Nickname</th>
                <th>Portrayed</th>
                <th>Occupation</th>
                <th>Status</th>
                <th>Category</th>
            </tr>
        </thead>
        <tbody id="data"></tbody>
        <thead>
            <tr></tr>
            <tr>
                <th>Name</th>
                <th>Nickname</th>
                <th>Portrayed</th>
                <th>Occupation</th>
                <th>Status</th>
                <th>Category</th>
            </tr>
        </thead>
        <tbody id="data1"></tbody>
    </table>
    <h3 id="text">To know more about the characters click on the images<br></h3>
    </div>
    </body>
    <script>
        fetch("https://www.breakingbadapi.com/api/characters").then(
            res=>{
                res.json().then(
                    data =>{
                        console.log(data);
                        function compare(a,b)
                        {
                        const firstA = a.name.toUpperCase();
                        const firstB = b.name.toUpperCase();
                        let comp=0;
                        if(firstA > firstB){
                        comp = 1;
                        }
                        else if (firstA < firstB){
                        comp = -1;
                        }
                        return comp;
                        }
                        data.sort(compare)
                        if(data.length > 0){
                            var temp = "";
                            data.forEach((u)=>
                            {
                                if(u.category=='Better Call Saul')
                                {
                                temp += "<tr>";
                                temp += "<td>"+ u.name + "</td>";
                                temp += "<td>"+ u.nickname + "</td>";
                                temp += "<td>"+ u.portrayed + "</td>";
                                temp += "<td>" + u.occupation + "</td>"
                                temp += "<td>"+ u.status + "</td>";
                                temp += "<td>" + u.category + "</td>"
                                
                                var imageurl = u.img;
                                var img = document.createElement('img');
                                img.src = imageurl;
                                document.body.appendChild(img);
                                img.onclick=function()
                                {
                                    alert("Name : " + u.name + '\n'  + "Portrayed : " + u.portrayed + '\n' +"Nickname : " + u.nickname +'\n' + "Occupation : " + u.occupation + '\n'+ "Status : " + u.status + '\n' + "Category : "+ u.category)
                                }
                                } 

                            })
                            document.getElementById("data").innerHTML = temp;
                        }
                    }
                
                )
            }
        )
        fetch("https://www.breakingbadapi.com/api/characters").then(
            res=>{
                res.json().then(
                    data1 =>{
                        console.log(data1);
                        function compare(a,b)
                        {
                        const firstA = a.name.toUpperCase();
                        const firstB = b.name.toUpperCase();
                        let comp=0;
                        if(firstA > firstB){
                        comp = 1;
                        }
                        else if (firstA < firstB){
                        comp = -1;
                        }
                        return comp;
                        }
                        data1.sort(compare)
                        if(data1.length > 0){
                            var temp = "";
                            data1.forEach((u)=>
                            {
                                if(u.category=='Breaking Bad')
                                {
                                temp += "<tr>";
                                temp += "<td>"+ u.name + "</td>";
                                temp += "<td>"+ u.nickname + "</td>";
                                temp += "<td>"+ u.portrayed + "</td>";
                                temp += "<td>" + u.occupation + "</td>"
                                temp += "<td>"+ u.status + "</td>";
                                temp += "<td>" + u.category + "</td>"
                                
                                var imageurl = u.img;
                                 var img1 = document.createElement('img');
                                img1.src = imageurl;
                                document.body.appendChild(img1);

                                img1.onclick=function()
                                {
                                    alert("Name : " + u.name + '\n' + "Nickname : " + u.nickname +'\n' + "Portrayed : " + u.portrayed + '\n' + "Occupation : " + u.occupation + '\n'+ "Status : " + u.status + '\n' + "Category : "+ u.category)
                                }
                                } 

                            })
                            document.getElementById("data1").innerHTML = temp;
                        
                        }
                    }
                
                )
            }
        )
    </script>
</html>